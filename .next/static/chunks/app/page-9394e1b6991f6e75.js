(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{770:function(e,a,t){Promise.resolve().then(t.bind(t,852))},852:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var l=t(7437),s=t(2265);let n={"01":"Ocak","02":"Şubat","03":"Mart","04":"Nisan","05":"Mayıs","06":"Haziran","07":"Temmuz","08":"Ağustos","09":"Eyl\xfcl",10:"Ekim",11:"Kasım",12:"Aralık"},i={fra:"France",nld:"Netherlands",irl:"Ireland",mlt:"Malta",swe:"Sweden",cze:"Czechia",hrv:"Croatia",bgr:"Bulgaria",fin:"Finland",svn:"Slovenia",dnk:"Denmark",nor:"Norway",est:"Estonia",ltu:"Lithuania",lux:"Luxembourg",ukr:"Ukraine",lva:"Latvia",ita:"Italy",aut:"Austria",prt:"Portugal",grc:"Greece",che:"Switzerland",jpn:"Japan",bra:"Brazil"},r={France:"Fransa",Netherlands:"Hollanda",Ireland:"İrlanda",Malta:"Malta",Sweden:"İsve\xe7",Czechia:"\xc7ekya",Croatia:"Hırvatistan",Bulgaria:"Bulgaristan",Finland:"Finlandiya",Slovenia:"Slovenya",Denmark:"Danimarka",Norway:"Norve\xe7",Estonia:"Estonya",Lithuania:"Litvanya",Luxembourg:"L\xfcksemburg",Ukraine:"Ukrayna",Latvia:"Letonya",Italy:"İtalya",Austria:"Avusturya",Portugal:"Portekiz",Greece:"Yunanistan",Switzerland:"İsvi\xe7re",Japan:"Japonya",Brazil:"Brezilya"},c=[{label:"Fransa \uD83C\uDDEB\uD83C\uDDF7",value:"fra"},{label:"Hollanda \uD83C\uDDF3\uD83C\uDDF1",value:"nld"},{label:"İrlanda \uD83C\uDDEE\uD83C\uDDEA",value:"irl"},{label:"Malta \uD83C\uDDF2\uD83C\uDDF9",value:"mlt"},{label:"İsve\xe7 \uD83C\uDDF8\uD83C\uDDEA",value:"swe"},{label:"\xc7ekya \uD83C\uDDE8\uD83C\uDDFF",value:"cze"},{label:"Hırvatistan \uD83C\uDDED\uD83C\uDDF7",value:"hrv"},{label:"Bulgaristan \uD83C\uDDE7\uD83C\uDDEC",value:"bgr"},{label:"Finlandiya \uD83C\uDDEB\uD83C\uDDEE",value:"fin"},{label:"Slovenya \uD83C\uDDF8\uD83C\uDDEE",value:"svn"},{label:"Danimarka \uD83C\uDDE9\uD83C\uDDF0",value:"dnk"},{label:"Norve\xe7 \uD83C\uDDF3\uD83C\uDDF4",value:"nor"},{label:"Estonya \uD83C\uDDEA\uD83C\uDDEA",value:"est"},{label:"Litvanya \uD83C\uDDF1\uD83C\uDDF9",value:"ltu"},{label:"L\xfcksemburg \uD83C\uDDF1\uD83C\uDDFA",value:"lux"},{label:"Ukrayna \uD83C\uDDFA\uD83C\uDDE6",value:"ukr"},{label:"Letonya \uD83C\uDDF1\uD83C\uDDFB",value:"lva"},{label:"İtalya \uD83C\uDDEE\uD83C\uDDF9",value:"ita"},{label:"Avusturya \uD83C\uDDE6\uD83C\uDDF9",value:"aut"},{label:"Portekiz \uD83C\uDDF5\uD83C\uDDF9",value:"prt"},{label:"Yunanistan \uD83C\uDDEC\uD83C\uDDF7",value:"grc"},{label:"İsvi\xe7re \uD83C\uDDE8\uD83C\uDDED",value:"che"}],u=()=>{try{let e=localStorage.getItem("appConfig");if(e)return JSON.parse(e);return{telegram:{botToken:"",chatId:"",enabled:!1},settings:{defaultCountry:"fra",defaultFrequency:5}}}catch(e){return console.log("Config okunamadı:",e.message),{telegram:{botToken:"",chatId:"",enabled:!1},settings:{defaultCountry:"fra",defaultFrequency:5}}}},o=e=>{try{return localStorage.setItem("appConfig",JSON.stringify(e)),!0}catch(e){return console.log("Config yazılamadı:",e.message),!1}};function d(){let[e,a]=(0,s.useState)(""),[t,d]=(0,s.useState)(""),[m,D]=(0,s.useState)("fra"),[h,v]=(0,s.useState)("all"),[g,f]=(0,s.useState)("all"),[p,b]=(0,s.useState)(5),[C,x]=(0,s.useState)(!1),[j,y]=(0,s.useState)([]),[k,N]=(0,s.useState)("Program bekleme durumunda..."),[E,T]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[F,z]=(0,s.useState)(""),[_,A]=(0,s.useState)([]),[L,B]=(0,s.useState)([]),I=(0,s.useRef)(null);(0,s.useEffect)(()=>{try{let e=u();a(e.telegram.botToken||""),d(e.telegram.chatId||""),T(e.telegram.enabled||!1)}catch(e){console.log("Telegram bilgileri y\xfcklenemedi:",e.message)}},[]);let M=(0,s.useCallback)(()=>{try{let a={...u(),telegram:{botToken:e,chatId:t,enabled:E}};o(a)}catch(e){console.log("Telegram bilgileri kaydedilemedi:",e.message)}},[e,t,E]);(0,s.useEffect)(()=>{M()},[e,t,E,M]),(0,s.useEffect)(()=>{I.current&&(I.current.scrollTop=0)},[j]),(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api.visasbot.com/api/visa/list",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.ok){let a=await e.json();if(a.success&&a.data&&a.data.visas){let e=a.data.visas.filter(e=>{if(!e.country_code||!e.mission_code||!e.center)return!1;let a="tur"===e.country_code.toLowerCase(),t=e.mission_code.toLowerCase()===m.toLowerCase();return a&&t}),t=[...new Set(e.map(e=>e.center))];A(t);let l=[...new Set(e.map(e=>e.visa_category))];B(l)}}}catch(e){console.log("Merkez ve vize t\xfcr\xfc bilgileri alınamadı:",e.message)}})()},[m]),(0,s.useEffect)(()=>{(async()=>{if("all"!==h)try{let e=await fetch("https://api.visasbot.com/api/visa/list",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.ok){let a=await e.json();if(a.success&&a.data&&a.data.visas){let e=a.data.visas.filter(e=>{if(!e.country_code||!e.mission_code||!e.center)return!1;let a="tur"===e.country_code.toLowerCase(),t=e.mission_code.toLowerCase()===m.toLowerCase(),l=e.center===h;return a&&t&&l}),t=[...new Set(e.map(e=>e.visa_category))];B(t)}}}catch(e){console.log("Vize t\xfcr\xfc bilgileri alınamadı:",e.message)}})()},[m,h]);let P=(0,s.useCallback)((e,a)=>{let t={id:Date.now(),type:e,content:a,timestamp:new Date().toLocaleTimeString()};y(e=>[t,...e].slice(0,100))},[]),G=(0,s.useCallback)(()=>{x(!1),N("Program bekleme durumunda...")},[]),K=(0,s.useCallback)(async a=>{if(E&&null!==a)try{let l=await fetch("https://api.telegram.org/bot".concat(e,"/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t,text:a,parse_mode:"HTML"})});if(!l.ok){let e=await l.json();throw Error("Telegram hatası: ".concat(e.description||"Bilinmeyen hata"))}}catch(e){P("error","Telegram hatası: ".concat(e.message)),e.message.includes("Telegram hatası")&&(G(),P("error","Telegram hatası nedeniyle kontroller durduruldu. L\xfctfen bot token ve chat ID'nizi kontrol edin."))}},[e,t,P,G,E]);(0,s.useCallback)(e=>{if(!e)return"Tarih bilgisi mevcut değil";try{let[a,t,l]=e.split("-");if(!a||!t||!l||!n[t])throw Error("Ge\xe7ersiz tarih formatı");return"".concat(l," ").concat(n[t]," ").concat(a)}catch(e){return"Ge\xe7ersiz tarih formatı"}},[]);let V=(0,s.useCallback)(e=>0===e.length?null:e.map(e=>{let a="\uD83C\uDF89 *".concat(r[i[m]]||m," i\xe7in randevu bulundu!*\n\n");if(a+="\uD83C\uDFE2 *Konsolosluk Merkezi:*\n"+"   ".concat(e.center||"Belirtilmemiş","\n\n")+"\uD83D\uDCCB *Vize Kategorisi:*\n"+"   ".concat(e.visa_category||"Belirtilmemiş","\n\n")+"\uD83D\uDCDD *Vize Tipi:*\n"+"   ".concat(e.visa_type||"Belirtilmemiş","\n\n")+"\uD83D\uDCCA *Durum:*\n"+"   ".concat("open"===e.status?"\uD83D\uDFE2 A\xe7ık":"\uD83D\uDFE1 Bekleme Listesi A\xe7ık","\n\n"),e.last_available_date&&(a+="\uD83D\uDCC5 *Son M\xfcsait Tarih:*\n"+"   ".concat(e.last_available_date,"\n\n")),e.last_open_at){let t=new Date(e.last_open_at);a+="\uD83D\uDD50 *Son A\xe7ılış Zamanı:*\n"+"   ".concat(t.toLocaleString("tr-TR"),"\n\n")}return a+("\uD83D\uDC65 *Takip Sayısı:* ".concat(e.tracking_count||0,"\n")+"\uD83C\uDD94 *Randevu ID:* ".concat(e.id,"\n")+"\n\uD83D\uDCA1 *\xd6nemli:* Bu randevu i\xe7in hemen başvuru yapmanız \xf6nerilir!\n")}),[m]),H=(0,s.useCallback)(function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],z(e),S(!0),setTimeout(()=>S(!1),5e3)},[]),O=(0,s.useCallback)(async()=>{try{let e=await fetch("https://api.visasbot.com/api/visa/list",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw Error("API yanıt vermedi (".concat(e.status,"): ").concat(e.statusText));let a=await e.json();if(!a.success||!a.data||!a.data.visas)throw Error("API yanıtı beklenen formatta değil");let t=a.data.visas.filter(e=>{if(!e.country_code||!e.mission_code||!e.center||!e.status)return!1;let a="tur"===e.country_code.toLowerCase(),t=e.mission_code.toLowerCase()===m.toLowerCase(),l="open"===e.status||"waitlist_open"===e.status;return a&&t&&l}),l=[...new Set(t.map(e=>e.center))];A(l);let s="all"===h?t:t.filter(e=>e.center===h);if((s="all"===g?s:s.filter(e=>e.visa_category===g)).length>0){let e=V(s);if(E)for(let a of e)await K(a);for(let a of e)P("appointment",a);H("".concat(s.length," adet randevu bulundu!"));try{await function(){let e=new(window.AudioContext||window.webkitAudioContext),a=e.createOscillator(),t=e.createGain();a.connect(t),t.connect(e.destination),a.type="sine",a.frequency.setValueAtTime(587.33,e.currentTime),t.gain.setValueAtTime(.5,e.currentTime),t.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),a.start(e.currentTime),a.stop(e.currentTime+.5)}()}catch(e){P("error","Ses bildirimi \xe7alınamadı")}}else{let e="all"===h?"":" - ".concat(h),a="all"===g?"":" - ".concat(g),t="Kontrol edildi: ".concat(r[i[m]]||m).concat(e).concat(a," (Randevu bulunamadı)");P("status",t),H(t,"info")}}catch(e){P("error","Hata: ".concat(e.message)),H(e.message,"error"),e.message.includes("API yanıt vermedi")&&(G(),P("error","API hatası nedeniyle kontroller durduruldu. L\xfctfen daha sonra tekrar deneyin."))}},[m,h,g,V,K,P,G,E,H]),R=(0,s.useCallback)(()=>{if(E&&(!e||!t)){P("error","Telegram bildirimleri a\xe7ıkken bot token ve chat ID zorunludur!");return}if(p<1||p>3600){P("error","Kontrol sıklığı 1-3600 saniye arasında olmalıdır!");return}x(!0);let a="all"===h?"":" - ".concat(h),l="all"===g?"":" - ".concat(g);N("".concat(r[i[m]]||m).concat(a).concat(l," i\xe7in randevu kontrol\xfc başlatıldı")),O()},[e,t,m,h,g,p,O,P,E]);return(0,s.useEffect)(()=>{let e;return C&&(e=setInterval(O,1e3*p)),()=>clearInterval(e)},[C,p,O]),(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("header",{className:"header-section",children:[(0,l.jsxs)("h1",{className:"title",children:[(0,l.jsx)("i",{className:"fas fa-passport"}),"Schengen Vizesi Randevu Arama",(0,l.jsx)("i",{className:"fas fa-passport"})]}),(0,l.jsx)("p",{className:"subtitle",children:"Otomatik randevu kontrol\xfc ve anlık bildirim sistemi"})]}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("h2",{className:"card-title",children:[(0,l.jsxs)("div",{className:"card-title-text",children:[(0,l.jsx)("i",{className:"fas fa-robot"}),"Telegram Bildirimleri"]}),(0,l.jsxs)("div",{className:"toggle-switch",children:[(0,l.jsx)("input",{type:"checkbox",id:"telegram-toggle",checked:E,onChange:e=>{T(e.target.checked),!e.target.checked&&C&&(G(),P("status","Telegram bildirimleri kapatıldığı i\xe7in kontrol durduruldu."))}}),(0,l.jsx)("label",{htmlFor:"telegram-toggle",className:"toggle-slider"})]})]}),E&&(0,l.jsxs)("div",{className:"telegram-inputs",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Bot Token"]}),(0,l.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Bot Father'dan aldığınız token"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("i",{className:"fas fa-id-card"}),"Chat ID"]}),(0,l.jsx)("input",{type:"text",value:t,onChange:e=>d(e.target.value),placeholder:"Telegram chat ID'niz"})]})]})]})}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h2",{className:"card-title",children:(0,l.jsxs)("div",{className:"card-title-text",children:[(0,l.jsx)("i",{className:"fas fa-cog"}),"Randevu Ayarları"]})}),(0,l.jsxs)("div",{className:"settings-inputs",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("i",{className:"fas fa-globe"}),"\xdclke"]}),(0,l.jsx)("select",{value:m,onChange:e=>{D(e.target.value),v("all"),f("all"),C&&(G(),P("status","\xdclke değiştirildiği i\xe7in kontrol durduruldu."))},children:c.map((e,a)=>(0,l.jsx)("option",{value:null==e?void 0:e.value,children:null==e?void 0:e.label},a))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("i",{className:"fas fa-building"}),"Randevu Merkezi"]}),(0,l.jsxs)("select",{value:h,onChange:e=>{v(e.target.value),C&&(G(),P("status","Merkez değiştirildiği i\xe7in kontrol durduruldu."))},disabled:0===_.length,children:[(0,l.jsx)("option",{value:"all",children:"T\xfcm Merkezler"}),_.map((e,a)=>(0,l.jsx)("option",{value:e,children:e},a))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("i",{className:"fas fa-passport"}),"Vize T\xfcr\xfc"]}),(0,l.jsxs)("select",{value:g,onChange:e=>{f(e.target.value),C&&(G(),P("status","Vize t\xfcr\xfc değiştirildiği i\xe7in kontrol durduruldu."))},disabled:0===L.length,children:[(0,l.jsx)("option",{value:"all",children:"T\xfcm Vize T\xfcrleri"}),L.map((e,a)=>(0,l.jsx)("option",{value:e,children:e},a))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("i",{className:"fas fa-clock"}),"Kontrol Sıklığı (saniye)"]}),(0,l.jsx)("input",{type:"number",value:p,onChange:e=>{b(parseInt(e.target.value)),C&&(G(),P("status","Kontrol sıklığı değiştirildiği i\xe7in kontrol durduruldu."))},min:"1",max:"3600"})]})]})]})}),(0,l.jsxs)("div",{className:"control-section",children:[(0,l.jsx)("div",{className:"button-group",children:(0,l.jsxs)("button",{className:"btn ".concat(C?"btn-danger":"btn-primary"),onClick:C?G:R,children:[(0,l.jsx)("i",{className:"fas ".concat(C?"fa-stop":"fa-play")}),C?"Kontrol\xfc Durdur":"Kontrol\xfc Başlat"]})}),(0,l.jsxs)("div",{className:"status ".concat(C?"running":"stopped"),id:"status-container",children:[(0,l.jsx)("i",{className:"fas fa-info-circle",id:"status-icon"}),(0,l.jsx)("p",{id:"status-text",children:k})]})]}),(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("h2",{className:"card-title",children:[(0,l.jsxs)("div",{className:"card-title-text",children:[(0,l.jsx)("i",{className:"fas fa-history"}),E?"Telegram Mesaj Ge\xe7mişi":"Bulunan Randevular"]}),(0,l.jsxs)("div",{className:"message-count",children:[j.length," mesaj"]})]}),(0,l.jsx)("div",{className:"message-history",ref:I,children:0===j.length?(0,l.jsxs)("div",{className:"empty-state",children:[(0,l.jsx)("i",{className:"fas fa-inbox"}),(0,l.jsx)("p",{children:"Hen\xfcz mesaj bulunmuyor"}),(0,l.jsx)("span",{children:"Kontrol başlattığınızda burada mesajlar g\xf6r\xfcnecek"})]}):j.slice().map(e=>(0,l.jsxs)("div",{className:"message ".concat(e.type),children:[(0,l.jsxs)("div",{className:"message-time",children:[(0,l.jsx)("i",{className:"fas fa-clock"}),e.timestamp]}),(0,l.jsx)("div",{className:"message-content",dangerouslySetInnerHTML:{__html:e.content}})]},e.id))})]})}),w&&(0,l.jsx)("div",{className:"notification",children:(0,l.jsxs)("div",{className:"notification-content",children:[(0,l.jsx)("div",{className:"notification-icon",children:(0,l.jsx)("i",{className:"fas fa-info-circle"})}),(0,l.jsx)("div",{className:"notification-message",children:F})]})}),(0,l.jsxs)("footer",{className:"footer",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("i",{className:"fas fa-shield-alt"}),"G\xfcvenli ve anonim randevu kontrol\xfc"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("i",{className:"fas fa-heart"}),"T\xfcrkiye'den Schengen vizesi almak isteyenler i\xe7in"]})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=770)}),_N_E=e.O()}]);